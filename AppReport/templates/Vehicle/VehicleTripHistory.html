{% extends "master.html" %}
{% load static %}

{% block title %}Report{% endblock %}

<!-- Custom Plugins CSS -->
{% block PluginsCSS %}
    <link rel="stylesheet" type="text/css" href="{% static "assets/css/vendors/jquery.dataTables.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets/css/vendors/select.bootstrap5.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets/css/vendors/sweetalert2.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets/css/vendors/select/bootstrap-select.min.css" %}">
{% endblock %}
<!--End Custom Plugins CSS -->

{% block LeafletLink %}
    <!--Google Key-->
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDyN4NVgaHV6-AbuAdWqSBM07iay6gbfKc&libraries=places"></script>

    <!--leaflet js library style link -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
          integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
          crossorigin=""/>
    <link rel="stylesheet"
          href="{% static 'assets/script/jslib/leaflet/plugins/PolylineMeasure/Leaflet.PolylineMeasure.css' %}"/>
    <link rel="stylesheet"
          href="{% static 'assets/script/jslib/leaflet/plugins/styledLayerControl/styledLayerControl.css' %}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css"/>
{% endblock %}

{% block link %}
    <link rel="stylesheet" type="text/css" href="{% static "assets/app_css/GetColor-Tooltip-Vehicle.css" %}">
{% endblock %}

{% block css %}

    .default-map-js-height{
    height: 725px;
    {#    width: 100vw;#}
    {#    height: 100vh;#}
    }
    .filter-companies .accordion-item {
    border: 1px solid #e9edf1;
    }

    .main-file-sidebar .md-sidebar .md-sidebar-aside .common-sort-card .files-left-icons li a svg {
    width: 24px;
    height: 24px;
    }

    .border-tb-l-radius {
    border-top-left-radius: 5px !important;
    border-bottom-left-radius: 5px !important;
    }

    .main-file-sidebar .md-sidebar .md-sidebar-aside .common-sort-card .files-left-icons li {
    margin-bottom: 10px;
    }

    .main-file-sidebar .md-sidebar .md-sidebar-aside .common-sort-card .files-left-icons li a {
    padding: 6px 10px
    }

    .common-space {
    justify-content: normal;
    }

    .course-box .card-body {
    padding: 10px 15px;
    }

{% endblock %}

<!-- Header Page Hierarchy-->
{% block breadcrumb %}
    <div class="container-fluid">
        <div class="page-title">
            <div class="row">
                <div class="col-sm-6">
                    {#        <h3>{{breadcrumb.title}} </h3>#}
                    <h3>Vehicle Trip</h3>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/index">
                            <svg class="stroke-icon">
                                <use href="{% static 'assets/svg/icon-sprite.svg' %}#stroke-home"></use>
                            </svg>
                        </a></li>
                        {#          <li class="breadcrumb-item">{{breadcrumb.parent}}</li>#}
                        <li class="breadcrumb-item">Report</li>
                        <li class="breadcrumb-item active">Vehicle-Trip</li>
                        {#          <li class="breadcrumb-item active">{{breadcrumb.child}}</li>#}
                    </ol>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
<!-- Header Page Hierarchy-->

{% block content %}

    <!-- Container-fluid starts-->
    <div class="container-fluid main-companies">

        <div class="row">

            <div class="col-xl-5 xl-6 box-col-12">

                <div class="row general-widget-wrapper">

                    <div class="col-sm-6 col-xl-6 col-lg-6 box-col-6">
                        <div class="card course-box">
                            <div class="card-body">
                                <div class="course-widget">
                                    <div class="course-icon">
                                        <svg class="fill-icon">
                                            <use href="{% static 'assets/svg/icon-sprite.svg' %}#stroke-progress-delivery"></use>
                                        </svg>
                                    </div>
                                    <div>
                                        <h4 class="mb-0">
                                            <span class="counter" data-target="100">100</span>+
                                        </h4>
                                        <span class="f-light">Total Vehicle</span>
                                        <a class="btn btn-light f-light" href="course-list-view.html">
                                            View Vehicle
                                            <span class="ms-2">
                                                <svg class="fill-icon f-light">
                                                    <use href="{% static 'assets/svg/icon-sprite.svg' %}#arrowright"></use>
                                                </svg>
                                            </span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <ul class="square-group">
                                <li class="square-1 warning"></li>
                                <li class="square-1 primary"></li>
                                <li class="square-2 warning1"></li>
                                <li class="square-3 danger"></li>
                                <li class="square-4 light"></li>
                                <li class="square-5 warning"></li>
                                <li class="square-6 success"></li>
                                <li class="square-7 success"></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-6 col-lg-6 box-col-6">
                        <div class="card course-box">
                            <div class="card-body">
                                <div class="course-widget">
                                    <div class="course-icon warning">
                                        <svg class="fill-icon">
                                            <use href="{% static 'assets/svg/icon-sprite.svg' %}#course-2"></use>
                                        </svg>
                                    </div>
                                    <div>
                                        <h4 class="mb-0"><span class="counter" data-target="80">80</span>+</h4><span
                                            class="f-light">Vehicle Type</span>
                                        <a class="btn btn-light f-light" href="course-list-view.html">
                                            View Type<span class="ms-2">
                                            <svg class="fill-icon f-light">
                                              <use href="{% static 'assets/svg/icon-sprite.svg' %}#arrowright"></use>
                                            </svg></span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <ul class="square-group">
                                <li class="square-1 warning"></li>
                                <li class="square-1 primary"></li>
                                <li class="square-2 warning1"></li>
                                <li class="square-3 danger"></li>
                                <li class="square-4 light"></li>
                                <li class="square-5 warning"></li>
                                <li class="square-6 success"></li>
                                <li class="square-7 success"></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="md-sidebar"><a class="btn btn-primary email-aside-toggle md-sidebar-toggle">Filters</a>
                        <div class="md-sidebar-aside job-sidebar custom-scrollbar">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Trip Analysis</h5>
                                </div>
                                <div class="card-body filter-companies">

                                    <div class="accordion" id="accordionExample">

                                        <!-- LAYER INFORMATION -->
                                        <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button collapsed" type="button"
                                                        data-bs-toggle="collapse"
                                                        data-bs-target="#collapseLayer" aria-expanded="true"
                                                        aria-controls="collapseLayer">
                                                    Layer Information
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                         class="feather feather-chevron-down svg-color">
                                                        <polyline points="6 9 12 15 18 9"></polyline>
                                                    </svg>
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse collapse" id="collapseLayer" style="">
                                                <div class="accordion-body">

                                                    <div class="col-xl-12 box-col-12 pe-0 xl-12 main-file-sidebar">
                                                        <div class="md-sidebar">
                                                            <div class="md-sidebar-aside job-left-aside custom-scrollbar">
                                                                <div class="file-sidebar">
                                                                    <div class="card">
                                                                        <div class="common-sort-card p-0">

                                                                            <ul class="files-left-icons file-type-icons">

                                                                                <li class="border-left-primary border-tb-l-radius m-b-5">
                                                                                    <a id="folder-files-tab"
                                                                                       href="javaScript:void(0)">
                                                                                        <div>
                                                                                            <div class="form-check-size default-square radius-none">
                                                                                                <div class="form-check form-switch form-check-inline">
                                                                                                    <input class="form-check-input switch-primary check-size"
                                                                                                           type="checkbox"
                                                                                                           id="asset_container_layer"
                                                                                                           value="asset_container_layer"
                                                                                                           onchange="DigitalArzModelJS.OnclickAssetLayer_TOC(this.value)"
                                                                                                           role="switch">
                                                                                                </div>
                                                                                            </div>
                                                                                            <span>
                                                                                            <img class="img-fluid for-light"
                                                                                                 src="/static/assets/images/legend/container/08-cum/To_be_Visited.png"
                                                                                                 alt=""
                                                                                                 style="width: 24px; height: 24px;">
                                                                                        </span>
                                                                                            <span class="f-16 txt-primary p-t-5">Container</span>
                                                                                        </div>
                                                                                        <span>
                                                                                        <button class="btn border-dashed-primary"
                                                                                                id="view_container_count"
                                                                                                style="padding: 0.05rem 0.565rem;">
                                                                                        </button>
                                                                                    </span>
                                                                                    </a>
                                                                                </li>
                                                                                <li class="border-left-primary border-tb-l-radius m-b-5">
                                                                                    <a id="folder-files-tab"
                                                                                       href="javaScript:void(0)">
                                                                                        <div>
                                                                                            <div class="form-check-size default-square radius-none">
                                                                                                <div class="form-check form-switch form-check-inline">
                                                                                                    <input class="form-check-input switch-primary check-size"
                                                                                                           type="checkbox"
                                                                                                           id="asset_drum_layer"
                                                                                                           value="asset_drum_layer"
                                                                                                           onchange="DigitalArzModelJS.OnclickAssetLayer_TOC(this.value)"
                                                                                                           role="switch">
                                                                                                </div>
                                                                                            </div>
                                                                                            <span>
                                                                                            <img class="img-fluid for-light"
                                                                                                 src="/static/assets/images/legend/drum/to_be_visited.png"
                                                                                                 alt=""
                                                                                                 style="width: 24px; height: 24px;">
                                                                                        </span>
                                                                                            <span class="f-16 txt-primary p-t-5">Drum</span>
                                                                                        </div>
                                                                                        <span>
                                                                                        <button class="btn border-dashed-primary"
                                                                                                id="view_drum_count"
                                                                                                style="padding: 0.05rem 0.565rem;">0</button>
                                                                                    </span>
                                                                                    </a>
                                                                                </li>
                                                                                <li class="border-left-primary border-tb-l-radius m-b-5">
                                                                                    <a id="folder-files-tab"
                                                                                       href="javaScript:void(0)">
                                                                                        <div>
                                                                                            <div class="form-check-size default-square radius-none">
                                                                                                <div class="form-check form-switch form-check-inline">
                                                                                                    <input class="form-check-input switch-primary check-size"
                                                                                                           type="checkbox"
                                                                                                           id="asset_collection_site_layer"
                                                                                                           value="asset_collection_site_layer"
                                                                                                           onchange="DigitalArzModelJS.OnclickAssetLayer_TOC(this.value)"
                                                                                                           role="switch">
                                                                                                </div>
                                                                                            </div>
                                                                                            <span>
                                                                                                <img class="img-fluid for-light"
                                                                                                     src="{% static 'assets/images/legend/asset_logo/collection_site.png' %}"
                                                                                                     alt=""
                                                                                                     style="width: 24px; height: 24px;">
                                                                                            </span>
                                                                                            <span class="f-16 txt-primary p-t-5">Collection Sites</span>
                                                                                        </div>
                                                                                        <span>
                                                                                            <button class="btn border-dashed-primary"
                                                                                                    id="view_tcs_count"
                                                                                                    style="padding: 0.05rem 0.565rem;">0</button>
                                                                                        </span>
                                                                                    </a>
                                                                                </li>
                                                                                <li class="border-left-primary border-tb-l-radius m-b-5">
                                                                                    <a id="folder-files-tab"
                                                                                       href="javaScript:void(0)">
                                                                                        <div>
                                                                                            <div class="form-check-size default-square radius-none">
                                                                                                <div class="form-check form-switch form-check-inline">
                                                                                                    <input class="form-check-input switch-primary check-size"
                                                                                                           type="checkbox"
                                                                                                           id="asset_dumping_site_layer"
                                                                                                           value="asset_dumping_site_layer"
                                                                                                           onchange="DigitalArzModelJS.OnclickAssetLayer_TOC(this.value)"
                                                                                                           role="switch">
                                                                                                </div>
                                                                                            </div>
                                                                                            <span>
                                                                                                <img class="img-fluid for-light"
                                                                                                     src="{% static 'assets/images/legend/asset_logo/dumping_site.png' %}"
                                                                                                     alt=""
                                                                                                     style="width: 24px; height: 24px;">
                                                                                            </span>
                                                                                            <span class="f-16 txt-primary p-t-5">Dumping Sites</span>
                                                                                        </div>
                                                                                        <span>
                                                                                            <button class="btn border-dashed-primary"
                                                                                                    id="view_dump_site_count"
                                                                                                    style="padding: 0.05rem 0.565rem;">0</button>
                                                                                        </span>
                                                                                    </a>
                                                                                </li>
                                                                                <li class="border-left-primary border-tb-l-radius m-b-5">
                                                                                    <a id="folder-files-tab"
                                                                                       href="javaScript:void(0)">
                                                                                        <div>
                                                                                            <div class="form-check-size default-square radius-none">
                                                                                                <div class="form-check form-switch form-check-inline">
                                                                                                    <input class="form-check-input switch-primary check-size"
                                                                                                           type="checkbox"
                                                                                                           id="asset_weighing_site_layer"
                                                                                                           value="asset_weighing_site_layer"
                                                                                                           onchange="DigitalArzModelJS.OnclickAssetLayer_TOC(this.value)"
                                                                                                           role="switch">
                                                                                                </div>
                                                                                            </div>
                                                                                            <span>
                                                                                                <img class="img-fluid for-light"
                                                                                                     src="{% static 'assets/images/legend/asset_logo/weighing-machine.png' %}"
                                                                                                     alt=""
                                                                                                     style="width: 24px; height: 24px;">
                                                                                            </span>
                                                                                            <span class="f-16 txt-primary p-t-5">Weighing</span>
                                                                                        </div>
                                                                                        <span>
                                                                                            <button class="btn border-dashed-primary"
                                                                                                    id="view_dump_site_count"
                                                                                                    style="padding: 0.05rem 0.565rem;">1</button>
                                                                                        </span>
                                                                                    </a>
                                                                                </li>
                                                                                <li class="border-left-primary border-tb-l-radius m-b-5">
                                                                                    <a id="folder-files-tab"
                                                                                       href="javaScript:void(0)">
                                                                                        <div>
                                                                                            <div class="form-check-size default-square radius-none">
                                                                                                <div class="form-check form-switch form-check-inline">
                                                                                                    <input class="form-check-input switch-primary check-size"
                                                                                                           type="checkbox"
                                                                                                           id="asset_landuse_boundary_layer"
                                                                                                           value="asset_landuse_boundary_layer"
                                                                                                           onchange="DigitalArzModelJS.OnclickAssetLayer_TOC(this.value)"
                                                                                                           role="switch">
                                                                                                </div>
                                                                                            </div>
                                                                                            <span>
                                                                                                <img class="img-fluid for-light"
                                                                                                     src="{% static 'assets/images/legend/asset_logo/union_council.png' %}"
                                                                                                     alt=""
                                                                                                     style="width: 24px; height: 24px;">
                                                                                            </span>
                                                                                            <span class="f-16 txt-primary p-t-5">Landuse Boundary</span>
                                                                                        </div>
                                                                                        <span>
                                                                                            <button class="btn border-dashed-primary"
                                                                                                    id="view_landuse_count"
                                                                                                    style="padding: 0.05rem 0.565rem;">0</button>
                                                                                        </span>
                                                                                    </a>
                                                                                </li>
                                                                                <li class="border-left-primary border-tb-l-radius m-b-5">
                                                                                    <a id="folder-files-tab"
                                                                                       href="javaScript:void(0)">
                                                                                        <div>
                                                                                            <div class="form-check-size default-square radius-none">
                                                                                                <div class="form-check form-switch form-check-inline">
                                                                                                    <input class="form-check-input switch-primary check-size"
                                                                                                           type="checkbox"
                                                                                                           id="asset_admin_boundary_layer"
                                                                                                           value="asset_admin_boundary_layer"
                                                                                                           onchange="DigitalArzModelJS.OnclickAssetLayer_TOC(this.value)"
                                                                                                           role="switch">
                                                                                                </div>
                                                                                            </div>
                                                                                            <span>
                                                                                                <img class="img-fluid for-light"
                                                                                                     src="{% static 'assets/images/legend/asset_logo/union_council.png' %}"
                                                                                                     alt=""
                                                                                                     style="width: 24px; height: 24px;">
                                                                                            </span>
                                                                                            <span class="f-16 txt-primary p-t-5">Administrative Boundary</span>
                                                                                        </div>
                                                                                        <span>
                                                                                            <button class="btn border-dashed-primary"
                                                                                                    id="view_admin_count"
                                                                                                    style="padding: 0.05rem 0.565rem;">0</button>
                                                                                        </span>
                                                                                    </a>
                                                                                </li>

                                                                                {% for data in asset_type_summary %}
                                                                                    <script>
                                                                                        var asset_name = '{{ data.name }}';
                                                                                        var asset_value = parseInt({{ data.value }})
                                                                                        if (asset_name === "Container") {
                                                                                            document.getElementById("view_container_count").innerHTML = asset_value.toLocaleString();
                                                                                        } else if (asset_name === "Drum") {
                                                                                            document.getElementById("view_drum_count").innerHTML = asset_value.toLocaleString();
                                                                                        } else if (asset_name === "Collection-Site") {
                                                                                            document.getElementById("view_tcs_count").innerHTML = asset_value.toLocaleString();
                                                                                        } else if (asset_name === "Dumping-Site") {
                                                                                            document.getElementById("view_dump_site_count").innerHTML = asset_value.toLocaleString();
                                                                                        } else if (asset_name === "Landuse") {
                                                                                            document.getElementById("view_landuse_count").innerHTML = asset_value.toLocaleString();
                                                                                        } else if (asset_name === "Admin") {
                                                                                            document.getElementById("view_admin_count").innerHTML = asset_value.toLocaleString();
                                                                                        }
                                                                                    </script>
                                                                                {% endfor %}

                                                                            </ul>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <!-- LAYER INFORMATION -->

                                        <!-- FILTER INFORMATION -->
                                        <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" type="button"
                                                        data-bs-toggle="collapse"
                                                        data-bs-target="#collapseFilter" aria-expanded="true"
                                                        aria-controls="collapseFilter">
                                                    Filter
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                         class="feather feather-chevron-down svg-color">
                                                        <polyline points="6 9 12 15 18 9"></polyline>
                                                    </svg>
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse" id="collapseFilter" style="">
                                                <div class="accordion-body">

                                                    <div class="card-body filter-cards-view animate-chk">


                                                        <div class="job-filter">
                                                            <div class="faq-form">
                                                                <input class="form-control" type="text"
                                                                       placeholder="Search By Vehicle ID...">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                     height="24" viewBox="0 0 24 24" fill="none"
                                                                     stroke="currentColor" stroke-width="2"
                                                                     stroke-linecap="round" stroke-linejoin="round"
                                                                     class="feather feather-map-pin search-icon">
                                                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                                                    <circle cx="12" cy="10" r="3"></circle>
                                                                </svg>
                                                            </div>
                                                        </div>

                                                        <div class="row mb-3">
                                                            <label class="col-md-4 form-label pt-1 fw-bolder">
                                                                Select Vehicle Type:
                                                            </label>
                                                            <div class="col-md-8">
                                                                <select id="cmd_vehicle_type" name="cmd_vehicle_type"
                                                                        class="selectpicker" data-live-search="true">
                                                                    <option value="NA" selected>Choose One</option>
                                                                    {% for type in vehicle_type_list %}
                                                                        <option value="{{ type.vehicle_type }}">
                                                                            {{ type.vehicle_type }}
                                                                            - {{ type.count }}</option>
                                                                    {% endfor %}
                                                                </select>
                                                            </div>
                                                        </div>

                                                        <div class="row mb-3">
                                                            <label class="col-md-4 form-label fw-bolder pt-1">
                                                                Select Vehicle ID:
                                                            </label>
                                                            <div class="col-md-8">
                                                                <select id="cmd_vehicle_list" name="cmd_vehicle_list"
                                                                        class="selectpicker" data-live-search="true"
                                                                        data-size="10">
                                                                    <option value="NA" selected>Choose One</option>
                                                                </select>
                                                            </div>
                                                        </div>

                                                        <div class="mb-3 row">
                                                            <label class="col-md-4 col-form-label fw-bolder">
                                                                Start Date-Time
                                                            </label>
                                                            <div class="col-md-8">
                                                                <input class="form-control digits"
                                                                       id="from_datetime"
                                                                       type="datetime-local"
                                                                       value="">
                                                            </div>
                                                        </div>

                                                        <div class="mb-3 row">
                                                            <label class="col-md-4 col-form-label fw-bolder">End
                                                                Date-Time</label>
                                                            <div class="col-md-8">
                                                                <input class="form-control digits"
                                                                       id="to_datetime"
                                                                       type="datetime-local"
                                                                       value="2024-05-03T18:45:00">
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="m-t-15 btn-showcase d-flex gap-2  mt-3 justify-content-end">
                                                                <button class="btn btn-success btn-hover-effect"
                                                                        onclick="ReportModelJS.onClickVehicleHistoryFilter();">
                                                                    <i class="fa-solid fa-search me-1"></i>
                                                                    Apply Filter
                                                                </button>
                                                                <button class="btn btn-warning btn-hover-effect">
                                                                    <i class="fa-solid fa-refresh me-1"></i>
                                                                    Reset
                                                                </button>
                                                            </div>
                                                        </div>


                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- FILTER INFORMATION -->

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-xl-7 xl-66 box-col-12">
                <div class="card">
                    <div class="card-body z-1 p-0">
                        <div class="default-map-js-height b-r-10" id="create-container-map"></div>
                    </div>
                </div>
            </div>

        </div>

        <div class="row">
            <div class="col-12 user-list-wrapper">
                <div class="card">
                    <style>
                        .user-list-wrapper .user-list-table div.dt-container .dt-layout-row .dt-search {
                            right: 20px;
                        }
                    </style>
                    <div class="card-header card-no-border text-end pb-5">
                    </div>
                    <div class="card-body pt-0 px-0">
                        <div class="list-product user-list-table recent-table task-table">
                            <div class="table-responsive custom-scrollbar ">
                                <table class="table" id="vehicle-list">
                                    <thead>
                                    <tr>
                                        <th><span class="c-o-light f-w-600">#</span></th>
                                        <th><span class="c-o-light f-w-600">Vehicle ID</span></th>
                                        <th><span class="c-o-light f-w-600">Register No.</span></th>
                                        <th><span class="c-o-light f-w-600">Type</span></th>
                                        <th><span class="c-o-light f-w-600">Distance (M)</span></th>
                                    </tr>
                                    </thead>
                                    <tbody class="main-task-wrapper">

                                    {% for data in vehicle_data_obj %}

                                        <tr class="product-removes inbox-data">
                                            <th scope="row"
                                                class="xsm-text text-capitalize align-middle">
                                                {{ forloop.counter }}
                                            </th>
                                            <td>
                                                <p><b>{{ data.vehicle_code }}</b></p>
                                            </td>
                                            <td>
                                                <p><b>{{ data.register_no }}</b></p>
                                            </td>
                                            <td>
                                                <p>{{ data.vehicle_type }}</p>
                                            </td>
                                            <td>
                                                <p class="p-b-0" style="line-height: 1;">Kilometer:
                                                    <b>{{ data.line_length_km }}</b></p>
                                                <p class="p-b-0" style="line-height: 1;">Meter:
                                                    <b>{{ data.line_length_m }}</b></p>
                                            </td>
                                        </tr>

                                    {% endfor %}

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- Container-fluid Ends-->

{% endblock %}

<!-- Plugins JS start-->
{% block PluginsJS %}

    <script src="{% static "assets/js/datatable/datatables/jquery.dataTables.min.js" %}"></script>
    <script src="{% static "assets/js/datatable/datatables/dataTables.js" %}"></script>
    <script src="{% static "assets/js/datatable/datatables/dataTables.select.js" %}"></script>
    <script src="{% static "assets/js/datatable/datatables/select.bootstrap5.js" %}"></script>
    <script src="{% static "assets/js/datatable/datatables/datatable.custom.js" %}"></script>
    <script src="{% static "assets/js/sweet-alert/sweetalert.min.js" %}"></script>

    <script src="{% static "assets/js/flat-pickr/flatpickr.js" %}"></script>
    <script src="{% static "assets/js/flat-pickr/custom-flatpickr.js" %}"></script>
    <script src="{% static "assets/js/select/bootstrap-select.min.js" %}"></script>
    <script src="{% static "assets/js/tooltip-init.js" %}"></script>

{% endblock %}
<!-- Plugins JS Ends-->

{% block LeafletJS %}
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
            integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
            crossorigin=""></script>
    <script src="{% static 'assets/script/jslib/leaflet/plugins/GoogleMutant/Leaflet.GoogleMutant.js' %}"></script>
    <script src="{% static 'assets/script/jslib/leaflet/plugins/measure/L.MeasuringTool.js' %}"></script>
    <script src="{% static 'assets/script/jslib/leaflet/plugins/PolylineMeasure/Leaflet.PolylineMeasure.js' %}"></script>
    <script src="{% static 'assets/script/jslib/leaflet/plugins/styledLayerControl/styledLayerControl.js' %}"></script>
    <!-- Dependency to Leaflet Draw -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
    <script src="https://npmcdn.com/leaflet.path.drag/src/Path.Drag.js"></script>
    <script src="{% static "assets/script/jslib/leaflet/plugins/Editable/Leaflet.Editable.js" %}"></script>
    <script src="{% static "assets/script/jslib/leaflet/plugins/Snap/leaflet.geometryutil.js" %}"></script>
    <script src="{% static "assets/script/jslib/leaflet/plugins/Snap/leaflet.snap.js" %}"></script>

    <script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>

{% endblock %}

<!-- Custom JS -->
{% block CustomerJS %}
    <script src="{% static "assets/script/include/DigitalArz.js" %}" type="text/javascript"></script>
    <script src="{% static "assets/script/include/TOCLayerModel.js" %}" type="text/javascript"></script>
    {#    <script src="{% static "js/RouteModel.js" %}" type="text/javascript"></script>#}
    <script src="{% static "assets/app_js/VehicleModel.js" %}" type="text/javascript"></script>
    <script src="{% static "assets/app_js/ReportModel.js" %}" type="text/javascript"></script>
    <script>

        let DigitalArzModelJS = null;
        let TOCLayerModelJS = null;
        let ReportModelJS = null;
        let VehicleModelJS = null;

        let vehicle_live_lists_str = JSON.stringify({{ vehicle_live_lists | safe }});
        let vehicle_live_lists = JSON.parse(vehicle_live_lists_str);

        //// ASSET TYPE WISE URL ////
        let fetch_drum_feature_data = '{% url "FetchDrumFeatureData" %}';
        let fetch_container_feature_data = '{% url "FetchContainerFeatureData" %}';

        let fetch_collection_site_feature_data = '{% url "FetchCollectionSiteData" %}';
        let fetch_dumping_site_feature_data = '{% url "FetchDumpingSiteData" %}';
        let fetch_dumping_coverage_feature_data = '{% url "FetchDumpingCoverageData" %}';
        let fetch_weighing_site_feature_data = '{% url "FetchWeighingSiteData" %}';
        let fetch_weighing_coverage_feature_data = '{% url "FetchWeighingCoverageData" %}';

        //// SYSTEM HIERARCHY URL ////
        let fetch_landuse_boundary_feature_data = '{% url "FetchLanduseBoundaryFeature" %}';
        let fetch_admin_boundary_feature_data = '{% url "FetchAdministrativeBoundaryFeature" %}';
        {#let fetch_union_council_feature_data = '{% url "FetchUnionCouncilFeature" %}';#}
        //// ASSET TYPE WISE URL (END) ////

        let vehicle_list_with_type_code = '{% url "VehicleListWithTypeCode" %}';
        let fetch_container_feature_process_type_data = '{% url "FetchContainerFeatureData_ProcessType" %}';
        let fetch_single_vehicle_trip_history_data = '{% url "FetchSingleVehicleTripHistoryData" %}';

        $(document).ready(function () {

            ReportModelJS = new AppReportModel();
            ReportModelJS.appConstructor("VehicleHistory");

            VehicleModelJS = new AppVehicleModel();
            VehicleModelJS.appConstructor();

            //// MAPPING MODEL JS
            DigitalArzModelJS = new AppDigitalArzModel("create-container-map");
            if (DigitalArzModelJS.map === null) {
                DigitalArzModelJS.LoadMap("true", "");

                {#let district_extent = '{{ container_extent.extent }}';#}
                {#alert(district_extent);#}
                {#////  THIS FUNCTION IS USED TO ZOOM THE LAYER  /////#}
                {#DigitalArzModelJS.ZoomToFeature("", district_extent);#}

                //// TOC LAYER MODEL LAYER DEFINE
                TOCLayerModelJS = new AppTOCLayerModel();
                TOCLayerModelJS.appConstructor();

                //// FETCH VEHICLE FEATURE DATA
                TOCLayerModelJS.FetchVehicleFeatureData("Onload", vehicle_live_lists);


                {#//// FETCH CONTAINER FEATURE BASED ON PROCESS TYPE#}
                {#TOCLayerModelJS.FetchContainerFeatureData_ProcessType();#}

                {#//// FETCH ROAD NETWORK SCHEDULE FEATURE#}
                {#TOCLayerModelJS.FetchRouteNetworkScheduleFeature();#}

            }

            //// ONCHANGE FUNCTION FILL VEHICLE LIST
            $("#cmd_vehicle_type").change(function (e) {
                let selected_value = e.target.value;
                //// FETCH VEHICLE LIST BY VEHICLE TYPE
                VehicleModelJS.VehicleListWithTypeCodeView("cmd_vehicle_list", selected_value, "");
            });

        }); //// DOCUMENT READY CLOSE

    </script>
{% endblock %}
<!-- End Custom JS -->