{% extends "master.html" %}
{% load static %}

{% block title %}Network{% endblock %}

<!-- Custom Plugins CSS -->
{% block PluginsCSS %}
    <link rel="stylesheet" type="text/css" href="{% static "assets/css/vendors/jquery.dataTables.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets/css/vendors/select.bootstrap5.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets/css/vendors/sweetalert2.css" %}">
    {#    <link rel="stylesheet" type="text/css" href="{% static "assets/css/vendors/select/bootstrap-select.min.css" %}">#}
{% endblock %}
<!--End Custom Plugins CSS -->

{% block LeafletLink %}
    <!--Google Key-->
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDyN4NVgaHV6-AbuAdWqSBM07iay6gbfKc&libraries=places"></script>

    <!--leaflet js library style link -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
          integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
          crossorigin=""/>
    <link rel="stylesheet"
          href="{% static 'assets/script/jslib/leaflet/plugins/PolylineMeasure/Leaflet.PolylineMeasure.css' %}"/>
    <link rel="stylesheet"
          href="{% static 'assets/script/jslib/leaflet/plugins/styledLayerControl/styledLayerControl.css' %}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css"/>
{% endblock %}

{% block css %}

    .default-map-js-height{
    {#    height: 605px;#}
    {#    width: 100vw;#}
    height: 100vh;
    }
    .filter-companies .accordion-item {
    border: 1px solid #e9edf1;
    }

    .main-file-sidebar .md-sidebar .md-sidebar-aside .common-sort-card .files-left-icons li a svg {
    width: 24px;
    height: 24px;
    }

    .border-tb-l-radius {
    border-top-left-radius: 5px !important;
    border-bottom-left-radius: 5px !important;
    }

    .main-file-sidebar .md-sidebar .md-sidebar-aside .common-sort-card .files-left-icons li {
    margin-bottom: 10px;
    }

    .main-file-sidebar .md-sidebar .md-sidebar-aside .common-sort-card .files-left-icons li a {
    padding: 6px 10px
    }

    .common-space {
    justify-content: normal;
    }

{% endblock %}

<!-- Header Page Hierarchy-->
{% block breadcrumb %}
    <div class="container-fluid">
        <div class="page-title">
            <div class="row">
                <div class="col-sm-6">
                    {#        <h3>{{breadcrumb.title}} </h3>#}
                    <h3>Design Route Network</h3>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/index">
                            <svg class="stroke-icon">
                                <use href="{% static 'assets/svg/icon-sprite.svg' %}#stroke-home"></use>
                            </svg>
                        </a></li>
                        {#          <li class="breadcrumb-item">{{breadcrumb.parent}}</li>#}
                        <li class="breadcrumb-item">Design</li>
                        <li class="breadcrumb-item active">Route-Network</li>
                        {#          <li class="breadcrumb-item active">{{breadcrumb.child}}</li>#}
                    </ol>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
<!-- Header Page Hierarchy-->

{% block content %}

    <!-- Container-fluid starts-->
    <div class="container-fluid main-companies">
        <div class="row">

            <div class="col-xl-5 xl-6 box-col-12">
                <div class="md-sidebar"><a class="btn btn-primary email-aside-toggle md-sidebar-toggle">Filters</a>
                    <div class="md-sidebar-aside job-sidebar custom-scrollbar">
                        <div class="card">
                            <div class="card-header">
                                <h5>Network Creativity</h5>
                            </div>
                            <div class="card-body filter-companies">
                                <div class="accordion" id="accordionExample">

                                    <!-- FILTER INFORMATION -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                    data-bs-toggle="collapse"
                                                    data-bs-target="#collapseFilter" aria-expanded="true"
                                                    aria-controls="collapseFilter">
                                                Filter
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                     viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                     class="feather feather-chevron-down svg-color">
                                                    <polyline points="6 9 12 15 18 9"></polyline>
                                                </svg>
                                            </button>
                                        </h2>
                                        <div class="accordion-collapse collapse" id="collapseFilter" style="">
                                            <div class="accordion-body">
                                                <div class="card-body filter-cards-view animate-chk">
                                                    <div class="job-filter mb-2">
                                                        <div class="faq-form">
                                                            <input class="form-control" type="text"
                                                                   placeholder="Search..">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                 height="24" viewBox="0 0 24 24" fill="none"
                                                                 stroke="currentColor" stroke-width="2"
                                                                 stroke-linecap="round" stroke-linejoin="round"
                                                                 class="feather feather-search search-icon">
                                                                <circle cx="11" cy="11" r="8"></circle>
                                                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                    <div class="job-filter">
                                                        <div class="faq-form">
                                                            <input class="form-control" type="text"
                                                                   placeholder="location..">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                 height="24" viewBox="0 0 24 24" fill="none"
                                                                 stroke="currentColor" stroke-width="2"
                                                                 stroke-linecap="round" stroke-linejoin="round"
                                                                 class="feather feather-map-pin search-icon">
                                                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                                                <circle cx="12" cy="10" r="3"></circle>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                    <div class="checkbox-animated">
                                                        <div class="form-check">
                                                            <input class="checkbox_animated" id="chk-ani"
                                                                   type="checkbox" data-original-title="" title="">
                                                            <label class="form-check-label" for="chk-ani"><span>Full-time</span><span
                                                                    class="number">(8688)</span></label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="checkbox_animated" id="chk-ani1"
                                                                   type="checkbox" data-original-title="" title="">
                                                            <label class="form-check-label" for="chk-ani1"><span>Contract</span><span
                                                                    class="number">(503)</span></label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="checkbox_animated" id="chk-ani2"
                                                                   type="checkbox" data-original-title="" title="">
                                                            <label class="form-check-label" for="chk-ani2"><span>Part-time</span><span
                                                                    class="number">(288)</span></label>
                                                        </div>

                                                    </div>
                                                    <button class="btn btn-primary text-center" type="button">Find
                                                        jobs
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- FILTER INFORMATION -->

                                    <!-- LAYER INFORMATION -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                    data-bs-toggle="collapse"
                                                    data-bs-target="#collapseLayer" aria-expanded="true"
                                                    aria-controls="collapseLayer">
                                                Layer Information
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                     viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                     class="feather feather-chevron-down svg-color">
                                                    <polyline points="6 9 12 15 18 9"></polyline>
                                                </svg>
                                            </button>
                                        </h2>
                                        <div class="accordion-collapse collapse" id="collapseLayer" style="">
                                            <div class="accordion-body">

                                                <div class="col-xl-12 box-col-12 pe-0 xl-12 main-file-sidebar">
                                                    <div class="md-sidebar">
                                                        <div class="md-sidebar-aside job-left-aside custom-scrollbar">
                                                            <div class="file-sidebar">
                                                                <div class="card">
                                                                    <div class="common-sort-card">

                                                                        <ul class="files-left-icons file-type-icons">

                                                                            <li class="border-left-primary border-tb-l-radius">
                                                                                <a id="folder-files-tab"
                                                                                   href="javaScript:void(0)">
                                                                                    <div>
                                                                                        <div class="form-check-size default-square radius-none">
                                                                                            <div class="form-check form-switch form-check-inline">
                                                                                                <input class="form-check-input switch-primary check-size"
                                                                                                       type="checkbox"
                                                                                                       id="asset_container_layer"
                                                                                                       value="asset_container_layer"
                                                                                                       onchange="DigitalArzModelJS.OnclickAssetLayer_TOC(this.value)"
                                                                                                       role="switch">
                                                                                            </div>
                                                                                        </div>
                                                                                        <span>
                                                                                            <img class="img-fluid for-light"
                                                                                                 src="/static/assets/images/legend/container/green.png"
                                                                                                 alt=""
                                                                                                 style="width: 24px; height: 24px;">
                                                                                        </span>
                                                                                        <span class="f-16 txt-primary p-t-5">Container</span>
                                                                                    </div>
                                                                                    <span>
                                                                                        <button class="btn border-dashed-primary"
                                                                                                style="padding: 0.05rem 0.565rem;">333</button>
                                                                                    </span>
                                                                                </a>
                                                                            </li>

                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <!-- LAYER INFORMATION -->

                                    <!-- ALL ROUTE NETWORK -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                    data-bs-toggle="collapse"
                                                    data-bs-target="#collapseFour" aria-expanded="true"
                                                    aria-controls="collapseFour">
                                                Approved Route Network
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                     viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                     class="feather feather-chevron-down svg-color">
                                                    <polyline points="6 9 12 15 18 9"></polyline>
                                                </svg>
                                            </button>
                                        </h2>
                                        <div class="accordion-collapse collapse" id="collapseFour" style="">
                                            <div class="accordion-body">
                                                <div class="product-filter">
                                                    <div class="checkbox-animated mt-0">
                                                        <label class="d-block" for="chk-ani17">
                                                            <input class="checkbox_animated" id="chk-ani17"
                                                                   type="checkbox" data-original-title="" title="">0-50
                                                            Employees
                                                        </label>
                                                        <label class="d-block" for="chk-ani18">
                                                            <input class="checkbox_animated" id="chk-ani18"
                                                                   type="checkbox" data-original-title="" title="">51-200
                                                            Employees
                                                        </label>
                                                        <label class="d-block" for="chk-ani19">
                                                            <input class="checkbox_animated" id="chk-ani19"
                                                                   type="checkbox" data-original-title="" title="">201-500
                                                            Employees
                                                        </label>
                                                        <label class="d-block" for="chk-ani20">
                                                            <input class="checkbox_animated" id="chk-ani20"
                                                                   type="checkbox" data-original-title="" title="">501-1000
                                                            Employees
                                                        </label>
                                                        <label class="d-block" for="chk-ani21">
                                                            <input class="checkbox_animated" id="chk-ani21"
                                                                   type="checkbox" data-original-title="" title="">1000-5000
                                                            Employees
                                                        </label>
                                                        <label class="d-block" for="chk-ani22">
                                                            <input class="checkbox_animated" id="chk-ani22"
                                                                   type="checkbox" data-original-title="" title="">5001-10000
                                                            Employees
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ALL ROUTE NETWORK -->

                                    <!-- SELECTED PENDING NETWORK -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button" type="button"
                                                    data-bs-toggle="collapse"
                                                    data-bs-target="#collapsePending" aria-expanded="true"
                                                    aria-controls="collapsePending">
                                                Pending Network
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                     viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                     class="feather feather-chevron-down svg-color">
                                                    <polyline points="6 9 12 15 18 9"></polyline>
                                                </svg>
                                            </button>
                                        </h2>
                                        <div class="accordion-collapse" id="collapsePending" style="">
                                            <div class="accordion-body">
                                                <div class="row">
                                                    <div class="col-xxl-12 col-md-12 box-col-12 ord-xl-x box-ord-10">
                                                        <div class="card dashboard-2"
                                                             style="border: 1px solid #e9edf1;">
                                                            <div class="card-header card-no-border">
                                                                <h5>Selected Road Network</h5>
                                                            </div>
                                                            <div class="card-body px-0 pt-0 treading-product">

                                                                <div class="table-responsive recent-table transaction-table custom-scrollbar">
                                                                    <table class="table">
                                                                        <thead>
                                                                        <tr>
                                                                            <th>#</th>
                                                                            <th>Type</th>
                                                                            <th>Name</th>
                                                                            <th>Address</th>
                                                                            <th>Action</th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody class="align-middle"
                                                                               id="tbody-create-network-item-table">
                                                                        </tbody>
                                                                    </table>
                                                                </div>

                                                            </div>
                                                            <div class="card-footer text-end">
                                                                <button class="btn btn-primary" type="submit">Save
                                                                    Save Network
                                                                </button>

                                                                <!-- STRING GENERATE FOR VIEW TO SAVING DATA -->
                                                                <input type="hidden" id="hid_unique_id"
                                                                       name="hid_unique_id" value="NA">
                                                                <input type="hidden" id="hid_type" name="hid_type"
                                                                       value="NA">
                                                                <input type="hidden" id="feature_coordinate"
                                                                       name="feature_coordinate" value="NA">
                                                                <input type="hidden" id="lattitude" name="lattitude"
                                                                       value="NA">
                                                                <input type="hidden" id="longitude" name="longitude"
                                                                       value="NA">
                                                                <input type="hidden" id="id_address" name="id_address"
                                                                       value="NA">

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- SELECTED PENDING NETWORK -->

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-7 xl-66 box-col-12">
                <div class="card">
                    <div class="card-body z-1 p-0">
                        <div class="default-map-js-height b-r-10" id="create-container-map"></div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!-- Container-fluid Ends-->

{% endblock %}

<!-- Plugins JS start-->
{% block PluginsJS %}

    <script src="{% static "assets/js/datatable/datatables/jquery.dataTables.min.js" %}"></script>
    <script src="{% static "assets/js/datatable/datatables/dataTables.js" %}"></script>
    <script src="{% static "assets/js/datatable/datatables/dataTables.select.js" %}"></script>
    <script src="{% static "assets/js/datatable/datatables/select.bootstrap5.js" %}"></script>
    <script src="{% static "assets/js/datatable/datatables/datatable.custom.js" %}"></script>
    <script src="{% static "assets/js/sweet-alert/sweetalert.min.js" %}"></script>

    <script src="{% static "assets/js/flat-pickr/flatpickr.js" %}"></script>
    <script src="{% static "assets/js/flat-pickr/custom-flatpickr.js" %}"></script>
    <script src="{% static "assets/js/select/bootstrap-select.min.js" %}"></script>
    <script src="{% static "assets/js/tooltip-init.js" %}"></script>

{% endblock %}
<!-- Plugins JS Ends-->

{% block LeafletJS %}
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
            integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
            crossorigin=""></script>
    <script src="{% static 'assets/script/jslib/leaflet/plugins/GoogleMutant/Leaflet.GoogleMutant.js' %}"></script>
    <script src="{% static 'assets/script/jslib/leaflet/plugins/measure/L.MeasuringTool.js' %}"></script>
    <script src="{% static 'assets/script/jslib/leaflet/plugins/PolylineMeasure/Leaflet.PolylineMeasure.js' %}"></script>
    <script src="{% static 'assets/script/jslib/leaflet/plugins/styledLayerControl/styledLayerControl.js' %}"></script>
    <!-- Dependency to Leaflet Draw -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
    <script src="https://npmcdn.com/leaflet.path.drag/src/Path.Drag.js"></script>
    <script src="{% static "assets/script/jslib/leaflet/plugins/Editable/Leaflet.Editable.js" %}"></script>
    <script src="{% static "assets/script/jslib/leaflet/plugins/Snap/leaflet.geometryutil.js" %}"></script>
    <script src="{% static "assets/script/jslib/leaflet/plugins/Snap/leaflet.snap.js" %}"></script>

    <script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>

{% endblock %}

<!-- Custom JS -->
{% block CustomerJS %}
    <script src="{% static "assets/script/include/DigitalArz.js" %}" type="text/javascript"></script>
    <script src="{% static "assets/script/include/TOCLayerModel.js" %}" type="text/javascript"></script>
    <script src="{% static "js/../../static/assets/app_js/RouteModel.js" %}" type="text/javascript"></script>
    <script>

        let DigitalArzModelJS = null;
        let TOCLayerModelJS = null;
        let RouteModelJS = null;

        let fetch_route_network_schedule_feature = '{% url "FetchRouteNetworkScheduleFeature" %}';

        $(document).ready(function () {

            RouteModelJS = new AppRouteModel();
            RouteModelJS.appConstructor();

            //// MAPPING MODEL JS
            DigitalArzModelJS = new AppDigitalArzModel("create-container-map");
            if (DigitalArzModelJS.map === null) {
                DigitalArzModelJS.minZoom = 12;
                DigitalArzModelJS.LoadMap("true", "");

                //// TOC LAYER MODEL LAYER DEFINE
                TOCLayerModelJS = new AppTOCLayerModel();
                TOCLayerModelJS.appConstructor();

                //// FETCH ROAD NETWORK SCHEDULE FEATURE
                TOCLayerModelJS.FetchRouteNetworkScheduleFeature();

            }

        }); //// DOCUMENT READY CLOSE

    </script>
{% endblock %}
<!-- End Custom JS -->